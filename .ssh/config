Host *
IdentityFile ~/.ssh/id_ecdsa
ServerAliveInterval 30
VerifyHostKeyDNS ask
# VisualHostKey yes
ControlMaster auto
ControlPath /tmp/%r@%h:%p
ControlPersist 10m

Host lab
Hostname lab.kroesch.net
User karsten
ForwardAgent yes
ServerAliveInterval 60

# Proxy tunnel with dynamic proxy
Host labp
Hostname lab.kroesch.ch
User karsten
DynamicForward 8080
ProxyCommand /usr/local/bin/proxytunnel -p clientproxy.corproot.net:8079 -d %h

# Proxy tunnel with local forward to NAS
Host nas
Hostname lab.kroesch.ch
User karsten
# NAS forwards
LocalForward 5000 192.168.1.49:5000
# HAProxy stats
LocalForward 9000 localhost:9000
ProxyCommand /usr/local/bin/proxytunnel -p clientproxy.corproot.net:8079 -d %h

# Proxy tunnel with remote forward
Host pikett
Hostname lab.kroesch.ch
User karsten
RemoteForward 2022 localhost:22
ProxyCommand /usr/local/bin/proxytunnel -p clientproxy.corproot.net:8079 -d %h

Host jumphost
LogLevel ERROR
Hostname hjmpsys01.sharedtcs.net
ForwardAgent yes
ServerAliveInterval 60
LocalForward 2022 vimapssp-nxc001.it.bwns.ch:22
LocalForward 2088 vimapssp-nxc001.it.bwns.ch:8080
LocalForward 2080 vimapssp-nxc001.it.bwns.ch:80
LocalForward 2443 vimapssp-nxc001.it.bwns.ch:443
LocalForward 8888 vimapssp-nxc001.it.bwns.ch:8888

Host nx
Hostname vimapssp-nxc001
IdentityFile ~/.ssh/id_ecdsa
ProxyCommand ssh tzhkrka5@hjmpsys01.sharedtcs.net -W %h:%p

# VIMDZMSP
Host vimdzmsp-*.bluewin.ch
Hostname %h
IdentityFile ~/.ssh/id_ecdsa
ProxyCommand ssh -o LogLevel=ERROR hjmpsys01.sharedtcs.net -W %h:%p

Host ime
Hostname vimdzssp-ime001.bluewin.ch
IdentityFile ~/.ssh/id_ecdsa
ProxyCommand ssh -o LogLevel=ERROR hjmpsys01.sharedtcs.net -W %h:%p

Host *.sharedit.ch
Hostname %h
PreferredAuthentications=password
PubkeyAuthentication=no

