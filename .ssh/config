

Host *
ServerAliveInterval 30
ServerAliveCountMax 3
VerifyHostKeyDNS ask
# VisualHostKey yes
ControlMaster auto
ControlPath /tmp/%r@%h:%p
ControlPersist 10m

Host lab
Hostname lab.kroesch.net
User karsten
ForwardAgent yes
ServerAliveInterval 60

Host proxy
# Implement a SOCKS proxy
Hostname gateway.kroesch.net
User karsten
DynamicForward 1080

Host jumphost
# Define a jump host (aka bastion host) to data center 
Hostname cdc
User karsten
IdentityFile .ssh/id_ed25519

Host *.production
# Any host in production is only reachable via jumphost
User ansible
ProxyCommand ssh -q jumphost -W %h:%p

Host pikett
# Establish a remote SSH connection via an HTTPS proxy
# to be able to work from home.
Hostname lab.kroesch.net
User karsten
RemoteForward 2022 localhost:22
ProxyCommand /usr/local/bin/proxytunnel -p proxy.corproot.net:8079 -d %h

